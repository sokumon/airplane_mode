{% extends "templates/web.html" %}

{% block page_content %}
<h1>{{ title |e }}</h1>
<div id="duration">{{ duration |e }}</div>
<h1>{{ status |e }}</h1>
<button> <a href="/book-a-flight/new?flight={{name}}&flight_price=12345">Book A Flight</a> </button>

<script>
    let test = document.getElementById("duration")
    const seconds = parseInt(test.innerHTML)
    test.innerText= formatDuration(seconds)

    function formatDuration(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const remainingSeconds = seconds % 60;

    let result = '';
    
    if (hours > 0) {
        result += hours + 'h';
    }
    if (minutes > 0) {
        result += (result ? ' ' : '') + minutes + 'm';
    }
    if (remainingSeconds > 0 && result === '') {
        result += remainingSeconds + 's';  
    }

    return result || '0s'; 
    }
    
</script>
{% endblock %}

<!-- this is a sample default web page template -->